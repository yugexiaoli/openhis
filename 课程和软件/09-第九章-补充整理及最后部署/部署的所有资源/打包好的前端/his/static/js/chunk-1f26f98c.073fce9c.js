(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f26f98c"],{2763:function(e,t,r){},"59b0":function(e,t,r){"use strict";var n=r("2763"),c=r.n(n);c.a},"77c0":function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var n=r("b775");function c(e){return Object(n["a"])({url:"/doctor/check/queryNeedCheckItem",method:"post",data:e})}function a(e){return Object(n["a"])({url:"/doctor/check/queryCheckItemByItemId/"+e,method:"get"})}function o(e){return Object(n["a"])({url:"/doctor/check/startCheck/"+e,method:"post"})}function i(e){return Object(n["a"])({url:"/doctor/check/queryAllCheckingResultForPage",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/doctor/check/completeCheckResult",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/doctor/check/queryAllCheckResultForPage",method:"post",data:e})}},ecfd:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticStyle:{"margin-bottom":"3px"}},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"检查项目",prop:"checkItemIds"}},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),r("el-checkbox-group",{on:{change:e.handleCheckedItemChange},model:{value:e.queryParams.checkItemIds,callback:function(t){e.$set(e.queryParams,"checkItemIds",t)},expression:"queryParams.checkItemIds"}},e._l(e.checkItemOptions,(function(t){return r("el-checkbox",{key:t.checkItemId,attrs:{label:t.checkItemId,value:t.checkItemId}},[e._v(e._s(t.checkItemName))])})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"挂号单号",prop:"regId"}},[r("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入挂号单号",clearable:"",size:"small"},model:{value:e.queryParams.regId,callback:function(t){e.$set(e.queryParams,"regId",t)},expression:"queryParams.regId"}}),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",{staticStyle:{"margin-bottom":"3px"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refTable",attrs:{border:"","highlight-current-row":"",data:e.careOrderItems},on:{"current-change":e.handleCurrentChange}},[r("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{label:"详情ID",align:"center",width:"300",prop:"itemId"}}),e._v(" "),r("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"itemName"}}),e._v(" "),r("el-table-column",{attrs:{label:"数量",align:"center",prop:"num"}}),e._v(" "),r("el-table-column",{attrs:{label:"单价(元)",align:"center",prop:"price"}}),e._v(" "),r("el-table-column",{attrs:{label:"金额(元)",align:"center",prop:"amount"}}),e._v(" "),r("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),r("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormatter}})],1)],1),e._v(" "),r("el-card",{staticStyle:{"margin-bottom":"3px"}},[e.showBottom?r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.bottomLoading,expression:"bottomLoading"}]},[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left","label-width":"120px",inline:""}},[r("el-form-item",{attrs:{label:"挂号单号:"}},[r("span",[e._v(e._s(e.careHistoryObj.regId))])]),e._v(" "),r("el-form-item",{attrs:{label:"患者姓名:"}},[r("span",[e._v(e._s(e.careOrderObj.patientName))])]),e._v(" "),r("el-form-item",{attrs:{label:"检查项目:"}},[r("span",[e._v(e._s(e.careOrderItemObj.itemName))])]),e._v(" "),r("el-form-item",{attrs:{label:"检查备注:"}},[r("span",[e._v(e._s(e.careOrderItemObj.remark))])])],1),e._v(" "),r("div",[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleStartCheck}},[e._v("开始检查")])],1)],1):r("div",{staticStyle:{"text-align":"center"}},[e._v("\n      暂无数据\n    ")])])],1)},c=[],a=r("f7cb"),o=r("77c0"),i={data:function(){return{loading:!1,checkItemOptions:[],queryParams:{regId:void 0,checkItemIds:[]},checkAll:!0,isIndeterminate:!1,careOrderItems:[],currentRow:void 0,statusOptions:[],showBottom:!1,bottomLoading:!1,careOrderItemObj:{},careOrderObj:{},careHistoryObj:{}}},created:function(){var e=this;Object(a["e"])().then((function(t){e.checkItemOptions=t.data,e.queryParams.checkItemIds=e.checkItemOptions.map((function(e){return e.checkItemId})),e.queryNeedCheckItem()})),this.getDataByType("his_order_details_status").then((function(t){e.statusOptions=t.data}))},methods:{handleCheckAllChange:function(e){this.queryParams.checkItemIds=e?this.checkItemOptions.map((function(e){return e.checkItemId})):[],this.isIndeterminate=!1},handleCheckedItemChange:function(e){var t=e.length;this.checkAll=t===this.checkItemOptions.length,this.isIndeterminate=t>0&&t<this.checkItemOptions.length},statusFormatter:function(e){return this.selectDictLabel(this.statusOptions,e.status)},queryNeedCheckItem:function(){var e=this;this.loading=!0,Object(o["e"])(this.queryParams).then((function(t){e.careOrderItems=t.data,e.loading=!1})).catch((function(){e.msgError("查询失败"),e.loading=!1}))},handleCurrentChange:function(e){var t=this;this.currentRow=e,null!==e&&(this.bottomLoading=!0,Object(o["d"])(this.currentRow.itemId).then((function(e){t.careOrderItemObj=e.data.item,t.careOrderObj=e.data.careOrder,t.careHistoryObj=e.data.careHistory,t.showBottom=!0,t.bottomLoading=!1})).catch((function(){t.msgError("加载失败"),t.bottomLoading=!1})))},handleQuery:function(){this.queryNeedCheckItem(),this.showBottom=!1},resetQuery:function(){this.resetForm("queryForm"),this.showBottom=!1,this.queryParams.checkItemIds=this.checkItemOptions.map((function(e){return e.checkItemId})),this.queryNeedCheckItem()},handleStartCheck:function(){var e=this,t=this;t.$confirm("是否确定开始检查?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["f"])(e.careOrderItemObj.itemId).then((function(e){t.msgSuccess("开始检查成功"),t.queryNeedCheckItem(),t.showBottom=!1})).catch((function(){t.msgError("开始检查失败"),t.loading=!1}))})).catch((function(){t.msgError("开始已取消"),t.loading=!1}))}}},s=i,l=(r("59b0"),r("2877")),u=Object(l["a"])(s,n,c,!1,null,"46097160",null);t["default"]=u.exports},f7cb:function(e,t,r){"use strict";r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return l}));var n=r("b775");function c(e){return Object(n["a"])({url:"/system/checkItem/listCheckItemForPage",method:"get",params:e})}function a(e){return Object(n["a"])({url:"/system/checkItem/addCheckItem",method:"post",params:e})}function o(e){return Object(n["a"])({url:"/system/checkItem/updateCheckItem",method:"put",params:e})}function i(e){return Object(n["a"])({url:"/system/checkItem/deleteCheckItemByIds/"+e,method:"delete"})}function s(e){return Object(n["a"])({url:"/system/checkItem/getCheckItemById/"+e,method:"get"})}function l(){return Object(n["a"])({url:"/system/checkItem/selectAllCheckItem",method:"get"})}}}]);