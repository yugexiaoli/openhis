(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-405a14db"],{"25e1":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return s}));var r=a("b775");function n(e){return Object(r["a"])({url:"/doctor/backfee/getChargedCareHistoryByRegId/"+e,method:"get"})}function i(e){return Object(r["a"])({url:"/doctor/backfee/createOrderBackfeeWithCash",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/doctor/backfee/createOrderBackfeeWithZfb",method:"post",data:e})}function o(e){return Object(r["a"])({url:"/doctor/backfee/queryAllOrderBackfeeForPage",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/doctor/backfee/queryOrderBackfeeItemByBackId/"+e,method:"get"})}},"7f83":function(e,t,a){"use strict";var r=a("d0ee"),n=a.n(r);n.a},"9d07":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"98px"}},[a("el-form-item",{attrs:{label:"患者姓名",prop:"patientName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入患者姓名",clearable:"",size:"small"},model:{value:e.queryParams.patientName,callback:function(t){e.$set(e.queryParams,"patientName",t)},expression:"queryParams.patientName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"挂号单号",prop:"regId"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入挂号单号",clearable:"",size:"small"},model:{value:e.queryParams.regId,callback:function(t){e.$set(e.queryParams,"regId",t)},expression:"queryParams.regId"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.orderBackfeeTableList}},[a("el-table-column",{attrs:{label:"退费订单号",align:"center",width:"210",prop:"orderId"}}),e._v(" "),a("el-table-column",{attrs:{label:"挂号单号",align:"center",width:"200",prop:"regId"}}),e._v(" "),a("el-table-column",{attrs:{label:"患者姓名",align:"center",prop:"patientName"}}),e._v(" "),a("el-table-column",{attrs:{label:"总金额",align:"center",prop:"backAmount"}}),e._v(" "),a("el-table-column",{attrs:{label:"退费类型",align:"center",prop:"backType",formatter:e.backTypeFormatter}}),e._v(" "),a("el-table-column",{attrs:{label:"订单状态",prop:"orderStatus",align:"center",formatter:e.backStatusFormatter}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"300px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-view",size:"mini"},on:{click:function(a){return e.handleViewItem(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.queryParams.pageNum,"page-sizes":[5,10,20,30],"page-size":e.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.title,visible:e.open,width:"1000px",center:"","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.itemTableloading,expression:"itemTableloading"}],attrs:{border:"",data:e.orderBackfeeItemList}},[a("el-table-column",{attrs:{label:"详情ID",align:"center",width:"210",prop:"itemId"}}),e._v(" "),a("el-table-column",{attrs:{label:"处方ID",align:"center",width:"200",prop:"coId"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center",prop:"itemName"}}),e._v(" "),a("el-table-column",{attrs:{label:"价格",align:"center",prop:"itemPrice"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",align:"center",prop:"itemNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"小计",prop:"itemAmount",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"itemType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("0"===t.row.itemType?"药品":"检查")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormatter}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)],1)],1)},n=[],i=a("25e1"),l={data:function(){return{loading:!1,itemTableloading:!1,total:0,title:"",open:!1,queryParams:{pageNum:1,pageSize:10,patientName:void 0,regId:void 0},orderBackfeeTableList:[],backTypeOptions:[],backStatusOptions:[],orderBackfeeItemList:[],statusOptions:[]}},created:function(){var e=this;this.getDataByType("his_pay_type_status").then((function(t){e.backTypeOptions=t.data})),this.getDataByType("his_backfee_status").then((function(t){e.backStatusOptions=t.data})),this.getDataByType("his_order_details_status").then((function(t){e.statusOptions=t.data})),this.listOrderBackfee()},methods:{listOrderBackfee:function(){var e=this;this.loading=!0,Object(i["d"])(this.queryParams).then((function(t){e.orderBackfeeTableList=t.data,e.total=t.total,e.loading=!1})).catch((function(){e.msgError("查询失败"),e.loading=!1}))},handleQuery:function(){this.listOrderBackfee()},resetQuery:function(){this.resetForm("queryForm"),this.listOrderBackfee()},handleSizeChange:function(e){this.queryParams.pageSize=e,this.listOrderBackfee()},handleCurrentChange:function(e){this.queryParams.pageNum=e,this.listOrderBackfee()},backTypeFormatter:function(e){return this.selectDictLabel(this.backTypeOptions,e.backType)},backStatusFormatter:function(e){return this.selectDictLabel(this.backStatusOptions,e.backStatus)},statusFormatter:function(e){return this.selectDictLabel(this.statusOptions,e.status)},handleViewItem:function(e){var t=this;this.title="查询【"+e.patientName+"】退费订单详情",this.open=!0,this.itemTableloading=!0,Object(i["e"])(e.backId).then((function(e){t.orderBackfeeItemList=e.data,t.itemTableloading=!1})).catch((function(){t.msgError("查询失败"),t.itemTableloading=!1}))},cancel:function(){this.open=!1}}},o=l,s=(a("7f83"),a("2877")),c=Object(s["a"])(o,r,n,!1,null,"618f78be",null);t["default"]=c.exports},d0ee:function(e,t,a){}}]);