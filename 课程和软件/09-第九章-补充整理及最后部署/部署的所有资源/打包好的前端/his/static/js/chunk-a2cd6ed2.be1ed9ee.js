(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2cd6ed2"],{"56a4":function(e,t,r){},"77c0":function(e,t,r){"use strict";r.d(t,"e",(function(){return n})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var a=r("b775");function n(e){return Object(a["a"])({url:"/doctor/check/queryNeedCheckItem",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/doctor/check/queryCheckItemByItemId/"+e,method:"get"})}function l(e){return Object(a["a"])({url:"/doctor/check/startCheck/"+e,method:"post"})}function s(e){return Object(a["a"])({url:"/doctor/check/queryAllCheckingResultForPage",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/doctor/check/completeCheckResult",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/doctor/check/queryAllCheckResultForPage",method:"post",data:e})}},"867b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticStyle:{"margin-bottom":"3px"}},[r("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"检查项目",prop:"checkItemIds"}},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),r("el-checkbox-group",{on:{change:e.handleCheckedItemChange},model:{value:e.queryParams.checkItemIds,callback:function(t){e.$set(e.queryParams,"checkItemIds",t)},expression:"queryParams.checkItemIds"}},e._l(e.checkItemOptions,(function(t){return r("el-checkbox",{key:t.checkItemId,attrs:{label:t.checkItemId,value:t.checkItemId}},[e._v(e._s(t.checkItemName))])})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"挂号单号",prop:"regId"}},[r("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入挂号单号",clearable:"",size:"small"},model:{value:e.queryParams.regId,callback:function(t){e.$set(e.queryParams,"regId",t)},expression:"queryParams.regId"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"患者姓名",prop:"patientName"}},[r("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入患者姓名",clearable:"",size:"small"},model:{value:e.queryParams.patientName,callback:function(t){e.$set(e.queryParams,"patientName",t)},expression:"queryParams.patientName"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),e._v(" "),r("el-card",{staticStyle:{"margin-bottom":"3px"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"refTable",attrs:{border:"",data:e.checkResultList}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"价格"}},[r("span",[e._v(e._s(t.row.price))])]),e._v(" "),r("el-form-item",{attrs:{label:"创建时间"}},[r("span",[e._v(e._s(t.row.createTime))])]),e._v(" "),r("el-form-item",{attrs:{label:"检查结果描述"}},[r("span",[e._v(e._s(t.row.resultMsg))])])],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"检查单位",align:"center",prop:"itemId",width:"250"}}),e._v(" "),r("el-table-column",{attrs:{label:"挂号单号",align:"center",width:"300",prop:"regId"}}),e._v(" "),r("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"checkItemName"}}),e._v(" "),r("el-table-column",{attrs:{label:"患者姓名",align:"center",prop:"patientName"}}),e._v(" "),r("el-table-column",{attrs:{label:"检查状态",align:"center",prop:"resultStatus",formatter:e.resultStatusFormatter}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",disabled:"0"===t.row.resultStatus,icon:"el-icon-view",size:"mini"},on:{click:function(r){return e.handleViewResult(t.row)}}},[e._v("查看结果")])]}}])})],1),e._v(" "),r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.queryParams.pageNum,"page-sizes":[5,10,20,30],"page-size":e.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:e.title,visible:e.open,width:"1000px",center:"","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[r("el-form",{ref:"form",attrs:{"label-width":"80px"}},[r("el-form-item",{attrs:{label:"检查结果",prop:"resultMsg"}},[e._v("\n        "+e._s(e.currentResult.resultMsg)+"\n      ")]),e._v(" "),e._l(e.currentResult.resultImg,(function(e,t){return r("div",{key:t},[r("img",{attrs:{src:e.url}})])}))],2),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},n=[],c=r("f7cb"),l=r("77c0"),s={data:function(){return{loading:!1,total:0,checkItemOptions:[],queryParams:{regId:void 0,patientName:void 0,checkItemIds:[],pageNum:1,pageSize:10},checkAll:!0,isIndeterminate:!1,resultStatusOptions:[],checkResultList:[],open:!1,title:"",currentResult:{resultMsg:void 0,resultImg:[]}}},created:function(){var e=this;Object(c["e"])().then((function(t){e.checkItemOptions=t.data,e.queryParams.checkItemIds=e.checkItemOptions.map((function(e){return e.checkItemId})),e.queryAllCheckResultForPage()})),this.getDataByType("his_check_result_status").then((function(t){e.resultStatusOptions=t.data}))},methods:{handleCheckAllChange:function(e){this.queryParams.checkItemIds=e?this.checkItemOptions.map((function(e){return e.checkItemId})):[],this.isIndeterminate=!1},handleCheckedItemChange:function(e){var t=e.length;this.checkAll=t===this.checkItemOptions.length,this.isIndeterminate=t>0&&t<this.checkItemOptions.length,this.queryAllCheckResultForPage()},resultStatusFormatter:function(e){return this.selectDictLabel(this.resultStatusOptions,e.resultStatus)},queryAllCheckResultForPage:function(){var e=this;this.loading=!0,Object(l["b"])(this.queryParams).then((function(t){e.checkResultList=t.data,e.loading=!1,e.total=t.total,console.log(e.total)})).catch((function(){e.msgError("查询失败"),e.loading=!1}))},handleSizeChange:function(e){this.queryParams.pageSize=e,this.queryAllCheckResultForPage()},handleCurrentChange:function(e){this.queryParams.pageNum=e,this.queryAllCheckResultForPage()},handleQuery:function(){this.queryAllCheckResultForPage()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.checkItemIds=this.checkItemOptions.map((function(e){return e.checkItemId})),this.queryAllCheckResultForPage()},handleViewResult:function(e){this.open=!0,this.title="查看【"+e.patientName+"】的检查结果",this.currentResult.resultMsg=e.resultMsg,""!==e.resultImg&&(this.currentResult.resultImg=JSON.parse(e.resultImg))},cancel:function(){this.open=!1,this.currentResult={resultMsg:void 0,resultImg:[]}}}},o=s,i=(r("ff93"),r("2877")),u=Object(i["a"])(o,a,n,!1,null,"47dc1779",null);t["default"]=u.exports},f7cb:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return i}));var a=r("b775");function n(e){return Object(a["a"])({url:"/system/checkItem/listCheckItemForPage",method:"get",params:e})}function c(e){return Object(a["a"])({url:"/system/checkItem/addCheckItem",method:"post",params:e})}function l(e){return Object(a["a"])({url:"/system/checkItem/updateCheckItem",method:"put",params:e})}function s(e){return Object(a["a"])({url:"/system/checkItem/deleteCheckItemByIds/"+e,method:"delete"})}function o(e){return Object(a["a"])({url:"/system/checkItem/getCheckItemById/"+e,method:"get"})}function i(){return Object(a["a"])({url:"/system/checkItem/selectAllCheckItem",method:"get"})}},ff93:function(e,t,r){"use strict";var a=r("56a4"),n=r.n(a);n.a}}]);